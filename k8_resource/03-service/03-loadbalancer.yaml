apiVersion: v1
kind: Pod
metadata:
  name: loadbalanceDemo
  namespace: roboshop
  labels: 
    app: loadbalncer-nginx
    demo: service
  annotations:
    jenkinsURL: "https://github.com/narayanajbs/DevOps_All/blob/main/k8_resource/02-pods/01-pod.yaml"
    author: satya
spec:
  containers:
  - name: loadbalncer-nginx
    image: nginx
    ports:
    - containerPort: 80
    env:
    - name: DevEnv
      value: "SOI-Dev"
    - name: envconfig
      valuefrom: 
      - configMapKeyRef:
        name: devconfigmapRef
        key: trainer
    envFrom:
    - configMapRef:
      name: devconfigmapRef
---
apiVersion: v1
kind: Service
metadata:
  name: serviceloadbalancer
spec:
  type: LoadBalancer
  selector:
   app: loadbalncer-nginx
   demo: service
  ports:
  - protocol: tcp
    port: 80
    targetPort: 80